<!DOCTYPE html>







<html lang="en">
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="author" content="Eike Kettner">
<meta name="description" content="Docspell is a Document Management System (DMS), a system that asists in organizing your piles of documents, resulting from scanners, e-mails and other sources with miminal effort.">
<meta name="keywords" content="document management system dms organizer ocr open source free scan pdf word doc archive gpl machine learning nlp auto tagging"/>
<meta name="robots" content="index,follow"/>
<meta name="image" property="og:image" content="/img/poster.png">
<meta name="title" property="og:title" content="Docspell â€“ Simple Document Organizer">
<meta name="og:image" content="/img/poster.png">
<meta name="og:title" content="Docspell â€“ Simple Document Organizer">
<meta name="og:site_name" content="SMTP Gateway with Exim - Docspell">
<meta name="og:url" content="">
<meta name="og:type" content="website">
<meta name="og:description" content="Simple Document Organizer">
<meta name="twitter:title" content="Docspell">
<meta name="twitter:image" content="/img/poster.png">
<meta name="twitter:description" content="Simple Document Organizer">
<meta name="twitter:card" content="summary_large_image">

<link rel="shortcut icon" href="/favicon-mc.ico" type="image/x-icon">
<link rel="icon" href="/favicon-mc.ico" type="image/x-icon">


        <title>SMTP Gateway with Exim - Docspell Documentatios</title>
        <link rel="stylesheet" href="/styles.css">

        <script type="text/javascript" src="https://docspell.org/elasticlunr.min.js"></script>
<script type="text/javascript" src="https://docspell.org/search_index.en.js"></script>
<script type="text/javascript" src="https://docspell.org/js/searchhelper.js"></script>
<script type="text/javascript" src="https://docspell.org/js/bundle.js"></script>


        <script type="application/javascript" src="/js/light-switch.js"></script>

        <link id="syntax-css" rel="stylesheet" href="">
    </head>
    <body class="h-full dark:bg-stone-900 bg-white text-stone-600 dark:text-stone-300 antialiased">

                <div id="top-bar"
             class="top-0 fixed z-50 w-full flex flex-row justify-start shadow-sm h-12 bg-white dark:bg-stone-900 text-stone-800 dark:text-stone-200 antialiased border-b dark:border-stone-800"
        >

            <a class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10 dark:hover:bg-stone-800" href="/">
                <div class="">
                    <img src="/icons/logo-only-36.svg">
                </div>
                <span class="ml-1 text-xl font-bold font-serif hidden sm:inline">
                    Docspell
                </span>
            </a>

            <div class="flex items-center">
                <div class="text-xs py-1 px-1 rounded-full border opacity-50">
                    0.35.0
                </div>
            </div>

            <div class="flex-grow place-items-end">


            </div>
            <div id="search"></div>
            <a href="/docs" class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800"
               title="Documentation"
            >
                <i class="fa fa-book">
                </i>
            </a>
            <a href="/blog" class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800"
               title="Blog"
            >
                <i class="fa fa-blog">
                </i>
            </a>
            <a target="_blank" href="https://github.com/eikek/docspell"
               class="inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800"
               title="Github"
            >
                <i class="fab fa-github-alt">
                </i>
            </a>

            <div class="lights-container relative inline-flex px-4 items-center hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 ">
                <a href="#"
                   class="lights-switch h-full w-full inline-flex items-center"
                   title="Lights on/off" >
                    <i class="fa fa-adjust">
                    </i>
                </a>
                <div class="lights-menu text-sm flex flex-col shadow bg-white dark:bg-stone-800 border dark:border-stone-800 absolute top-12 right-2 divide-y dark:divide-stone-700 hidden">
                    <a class="lights-to-dark flex flex-row items-center py-2 px-4 hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-700 cursor-pointer">
                        <i class="fa fa-moon mr-2"></i>
                        <span>Dark</span>
                    </a>
                    <a class="lights-to-light flex flex-row items-center py-2 px-4 hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-700 cursor-pointer">
                        <i class="fa fa-sun font-thin mr-2"></i>
                        <span>Light</span>
                    </a>
                    <a class="lights-to-system flex flex-row items-center py-2 px-4 hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-700 cursor-pointer">
                        <i class="fa fa-laptop mr-2"></i>
                        <span>System</span>
                    </a>

                </div>
            </div>

        </div>


        <div id="docs-main"
             class="mt-12 flex md:flex-row flex-col w-full h-screen-12 sm:overflow-y-hidden"
        >

            
            <div id="sidebar"
                 class ="mx-1 flex flex-col sm:flex-none w-full md:w-72 min-h-max overflow-none sm:overflow-y-auto transition-opacity transition-duration-200 "
            >

                
  <div class="flex flex-col mt-2">
    
    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10 dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200  ">
        <a href="https://docspell.org/docs/"
           title=""
           class="block w-full"
        >
            <i class="fa fa-book mr-1"></i>
            Documentation
        </a>
    </div>

    
    
    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;install&#x2F;quickstart&#x2F;"
           title="There are multiple ways to install Docspell. This section contains detailed instructions."
           class="block w-full"
        >
            Installation
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/quickstart/" class="w-full block">
                Getting Started
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/prereq/" class="w-full block">
                Prerequisites
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/docker/" class="w-full block">
                Docker
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/download-run/" class="w-full block">
                Download &amp; Run
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/nix/" class="w-full block">
                Nix &#x2F; Nixos
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/downgrading/" class="w-full block">
                Downgrading
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/rpi/" class="w-full block">
                Raspberry-Pi
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/reverseproxy/" class="w-full block">
                Reverse Proxy
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/install/changelog/" class="w-full block">
                Changelog
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;feed&#x2F;"
           title="Shows several ways for getting data into Docspell."
           class="block w-full"
        >
            Documents â†’ Docspell
        </a>
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;features&#x2F;"
           title="A list of features and limitations."
           class="block w-full"
        >
            Features
        </a>
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;configure&#x2F;main&#x2F;"
           title="Describes the configuration file and shows all default settings."
           class="block w-full"
        >
            Configuration
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/main/" class="w-full block">
                Main
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/bind/" class="w-full block">
                Bind
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/database/" class="w-full block">
                Database
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/file-backends/" class="w-full block">
                File Backends
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/file-processing/" class="w-full block">
                File Processing
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/fulltext-search/" class="w-full block">
                Full-Text Search
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/admin-endpoint/" class="w-full block">
                Admin Endpoint
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/authentication/" class="w-full block">
                Authentication
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/registration/" class="w-full block">
                Registration
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/configure/baseurl/" class="w-full block">
                Base Url
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;webapp&#x2F;dashboards&#x2F;"
           title="This section describes the features of the web application."
           class="block w-full"
        >
            Web-Ui
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/dashboards/" class="w-full block">
                Dashboards
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/uploading/" class="w-full block">
                Uploads
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/metadata/" class="w-full block">
                Meta Data
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/customfields/" class="w-full block">
                Custom Fields
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/curate/" class="w-full block">
                Curate Items
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/multiedit/" class="w-full block">
                Multi Edit
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/finding/" class="w-full block">
                Finding Items
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/bookmarks/" class="w-full block">
                Bookmarks
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/itemcard-customize/" class="w-full block">
                Customize Item Card
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/emailsettings/" class="w-full block">
                E-Mail Settings
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/mailitem/" class="w-full block">
                Send Items Via E-Mail
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/notification/" class="w-full block">
                Notifications
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/scanmailbox/" class="w-full block">
                Scan Mailboxes
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/processing/" class="w-full block">
                Job Queue
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/autotagging/" class="w-full block">
                Auto Tagging
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/merge/" class="w-full block">
                Merge Items
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/totp/" class="w-full block">
                Two-Factor Authentication
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/webapp/share/" class="w-full block">
                Shares
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;query&#x2F;"
           title="The query language is a powerful way to search for documents."
           class="block w-full"
        >
            Query Language
        </a>
    </div>
    

    
    
    
    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;cli&#x2F;"
           title="There are several tools distributed with docspell, like a program to watch a folder and import files or a simple android app."
           class="block w-full"
        >
            Tools
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/cli/" class="w-full block">
                Cli
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/android/" class="w-full block">
                Android Client
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/ds4e/" class="w-full block">
                Emacs
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  dark:bg-stone-800 border-l-2 dark:border-stone-100 border-stone-800 ">
            <a href="https://docspell.org/docs/tools/smtpgateway/" class="w-full block">
                Smtp Gateway With Exim
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/tools/paperless-import/" class="w-full block">
                Paperless Import
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;api&#x2F;intro&#x2F;"
           title="Contains documentation about the REST API."
           class="block w-full"
        >
            Api
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/api/intro/" class="w-full block">
                Api Introduction
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/api/upload/" class="w-full block">
                Upload Request
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;joex&#x2F;intro&#x2F;"
           title="More information about the job executor component."
           class="block w-full"
        >
            Joex
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/joex/intro/" class="w-full block">
                Joex
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/joex/file-processing/" class="w-full block">
                File Processing
            </a>
        </div>
        
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;faq&#x2F;"
           title="Frequently asked questions."
           class="block w-full"
        >
            Faq
        </a>
    </div>
    

    
    
    
    

    
    
    
    

    <div class="w-full px-4 py-2 rounded-lg hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800 dark:text-stone-300 font-medium text-lg dark:text-stone-200 ">
        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;dev&#x2F;building&#x2F;"
           title="Contains build instructions and other internal notes."
           class="block w-full"
        >
            Development
        </a>
    </div>
    
    <div class="mb-2">
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/dev/building/" class="w-full block">
                Building Docspell
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/dev/translation/" class="w-full block">
                Translating Web-Ui
            </a>
        </div>
        
        <div class="py-1 px-2 ml-8  hover:bg-amber-600 hover:bg-opacity-10  dark:hover:bg-stone-800  border-l dark:border-stone-700 ">
            <a href="https://docspell.org/docs/dev/development/" class="w-full block">
                Tips &amp; Setup
            </a>
        </div>
        
    </div>
    

    
    
</div>



            </div>
            

            <div id="content"
                 class=" w-full px-2 overflow-none sm:overflow-y-auto scrollbar-main scrollbar-thin flex flex-col lg:flex-row justify-center"
            >
                <div class="content max-w-screen-md flex flex-col">
                    <div class="flex-grow">
                        
  
  
  <h1 id="smtp-gateway-with-exim">SMTP Gateway with Exim<a class="zola-anchor" href="#smtp-gateway-with-exim" aria-label="Anchor link for: smtp-gateway-with-exim">ðŸ”—</a></h1>
<p>One possible use case for the <a href="https://docspell.org/docs/api/upload/#integration-endpoint">integration
endpoint</a> is a SMTP server
that forwards all local mail to docspell. This way there is no
periodic polling involved and documents (e-mails) get into docspell
without delay.</p>
<p>The <code>tools/exim</code> folder contains a docker file and a sample
<code>exim.conf</code> to help start with this setup. Note that these files
provide a minimal setup, you might want to add tls and spam protection
when opening it to the public.</p>
<h1 id="what-you-need">What you need<a class="zola-anchor" href="#what-you-need" aria-label="Anchor link for: what-you-need">ðŸ”—</a></h1>
<p>You need to own a domain and add the appropriate MX records to point
to your server. In this document, the domain <code>test.org</code> is used.</p>
<p>You need to enable the <a href="https://docspell.org/docs/api/upload/#integration-endpoint">integration
endpoint</a> in the docspell
configuration.</p>
<h1 id="exim">Exim<a class="zola-anchor" href="#exim" aria-label="Anchor link for: exim">ðŸ”—</a></h1>
<p><a href="http://exim.org/">Exim</a> is a popular smtp server (message transfer
agent). It is used here only because of previous knowledge, but same
can be achieved with other MTAs.</p>
<h1 id="the-config-file">The Config File<a class="zola-anchor" href="#the-config-file" aria-label="Anchor link for: the-config-file">ðŸ”—</a></h1>
<p>Here is the example config file for exim:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash">
<span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"># Provide certificates to enable StartTLS</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> tls_certificate = /var/lib/acme/test.org/fullchain.pem</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> tls_privatekey = /var/lib/acme/test.org/key.pem</span><span class="z-comment z-line z-number-sign z-shell">
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">tls_advertise_hosts</span></span><span class="z-meta z-function-call z-arguments z-shell"> =</span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">primary_hostname</span></span><span class="z-meta z-function-call z-arguments z-shell"> = test.org</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">domainlist</span></span><span class="z-meta z-function-call z-arguments z-shell"> local_domains = test.org</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">timeout_frozen_after</span></span><span class="z-meta z-function-call z-arguments z-shell"> = 1m</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">acl_smtp_rcpt</span></span><span class="z-meta z-function-call z-arguments z-shell"> = acl_check_rcpt</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">acl_smtp_data</span></span><span class="z-meta z-function-call z-arguments z-shell"> = acl_check_data</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">never_users</span></span><span class="z-meta z-function-call z-arguments z-shell"> = root</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">host_lookup</span></span><span class="z-meta z-function-call z-arguments z-shell"> = <span class="z-keyword z-operator z-regexp z-quantifier z-shell">*</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">daemon_smtp_ports</span></span><span class="z-meta z-function-call z-arguments z-shell"> = 25</span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">message_size_limit</span></span><span class="z-meta z-function-call z-arguments z-shell"> = 30m</span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">keep_environment</span></span><span class="z-meta z-function-call z-arguments z-shell"> = DS_HEADER : DS_URL</span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">begin</span></span><span class="z-meta z-function-call z-arguments z-shell"> acl</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">acl_check_rcpt:</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">require</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">domains</span></span><span class="z-meta z-function-call z-arguments z-shell"> = +local_domains</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">require</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">message</span></span><span class="z-meta z-function-call z-arguments z-shell"> = Sender verification failed</span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">verify</span></span><span class="z-meta z-function-call z-arguments z-shell"> = sender</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">require</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">message</span></span><span class="z-meta z-function-call z-arguments z-shell"> = Receiver verification failed</span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">verify</span></span><span class="z-meta z-function-call z-arguments z-shell"> = recipient</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">require</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">message</span></span><span class="z-meta z-function-call z-arguments z-shell"> = Recipient unknown</span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">condition</span></span><span class="z-meta z-function-call z-arguments z-shell"> = <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">run{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-keyword z-operator z-substitution z-shell">/</span></span><span class="z-meta z-group z-expansion z-parameter z-shell">usr<span class="z-keyword z-operator z-substitution z-shell">/</span></span><span class="z-meta z-group z-expansion z-parameter z-shell">bin/curl --output /dev/null --silent --fail -H <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell-Integration: <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">env{DS_HEADER</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>{<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">value</span></span>} fail}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">env{DS_URL</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>{<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">value</span></span>} fail}/api/v1/open/integration/item/<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">local_part</span></span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span><span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>yes<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span><span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>no<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span><span class="z-meta z-function-call z-shell"></span>}
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">warn</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">message</span></span><span class="z-meta z-function-call z-arguments z-shell"> = Reverse lookup failed</span>
  <span class="z-punctuation z-definition z-history z-shell">!</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">verify</span></span><span class="z-meta z-function-call z-arguments z-shell"> = reverse_host_lookup</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">accept</span></span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">acl_check_data:</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">deny</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">message</span></span><span class="z-meta z-function-call z-arguments z-shell"> = Sender verification failed</span>
  <span class="z-punctuation z-definition z-history z-shell">!</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">verify</span></span><span class="z-meta z-function-call z-arguments z-shell"> = header_sender</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">accept</span></span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">begin</span></span><span class="z-meta z-function-call z-arguments z-shell"> routers</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">local_users:</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">driver</span></span><span class="z-meta z-function-call z-arguments z-shell"> = accept</span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">transport</span></span><span class="z-meta z-function-call z-arguments z-shell"> = docspell</span>

<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">begin</span></span><span class="z-meta z-function-call z-arguments z-shell"> transports</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell:</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">driver</span></span><span class="z-meta z-function-call z-arguments z-shell"> = pipe</span>
  <span class="z-meta z-function-call z-shell"><span class="z-support z-function z-command z-shell">command</span></span><span class="z-meta z-function-call z-arguments z-shell"> = /usr/bin/curl --output /dev/null --silent --fail -H <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Docspell-Integration: <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">env{DS_HEADER</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>{<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">value</span></span>} fail}<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> -F <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>file=@-;filename=<span class="z-constant z-character z-escape z-shell">\&quot;</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">h_subject</span></span>:<span class="z-constant z-character z-escape z-shell">\&quot;</span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-punctuation z-section z-expansion z-parameter z-begin z-shell">{</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-variable z-other z-readwrite z-shell">env{DS_URL</span></span><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-section z-expansion z-parameter z-end z-shell">}</span></span>{<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">value</span></span>} fail}/api/v1/open/integration/item/<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">local_part</span></span><span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">return_fail_output</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">user</span></span><span class="z-meta z-function-call z-arguments z-shell"> = nobody</span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">delivery_date_add</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">envelope_to_add</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">return_path_add</span></span>
  <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">log_output</span></span>
</span></code></pre>
<p>Exim has good <a href="https://www.exim.org/docs.html">documentation</a>, look
there for more info. The following is only a quick summary of the file
above.</p>
<p>The <code>domainlist local_domains</code> should list your domain. Only mails to
this domain are allowed, as specified in the first rule in
<code>acl_check_rcpt</code>. So mails to <code>name@test.org</code> are ok, but
<code>name@someother.org</code> not.</p>
<p>Another rule in <code>acl_check_rcpt</code> executes a <code>GET</code> request against the
integration endpoint. If that fails, the recipient is wrong (or the
endpoint disabled) and the mail is rejected right away.</p>
<p>Then the <code>routers</code> define how a mail is handled. There is only one
router that accepts all mails (that have not been rejected by a rule
in acls) and uses the <code>docspell</code> transport to deliver it. The
transport specifies a command via the <code>pipe</code> driver that is run with
the mail. The mail itself is provided via stdin. So a simple <code>curl</code>
command can upload it to the integration endpoint. Here are some quick
notes about the used options (see <code>man curl</code>):</p>
<ul>
<li><code>--silent</code> and <code>--out /dev/null</code> don't print upload progress
information and no output to stdout</li>
<li><code>--fail</code> return non-zero if http status code is not success</li>
<li><code>-F</code> use a multipart/form-data request (defaults to a POST request)</li>
<li><code>&quot;file=@-;filename=\&quot;$_subject:\&quot;&quot;</code> add one part with name <code>file</code>
and take the data from stdin (<code>@-</code>). Since there is no filename, we
use the subject of the mail. This is <a href="http://exim.org/exim-html-current/doc/html/spec_html/ch-string_expansions.html">supported by
exim</a>
by expanding the subject mail header via <code>$h_subject:</code> (the colon is
required).</li>
<li><code>$local_part</code> this is expanded by exim to the recipient address,
only the part until the <code>@</code> sign.</li>
<li><code>${env{DS_HEADER}{$value} fail}</code> looks up an environment variable by
key <code>DS_HEADER</code>. This is usually defined in <code>docker-compose.yml</code>.
The value must be the &quot;secret&quot; header value as defined in docspell's
configuration file.</li>
<li><code>${env{DS_URL}{$value} fail}</code> the url to docspell. It is looked up
from the environment with key <code>DS_URL</code>, which is usually defined in
<code>docker-compose.yml</code>. Adding the <code>$local_part</code> at the end means that
mails to <code>somename@test.org</code> are uploaded to the collective
<code>somename</code>.</li>
</ul>
<h1 id="install-with-docker">Install with Docker<a class="zola-anchor" href="#install-with-docker" aria-label="Anchor link for: install-with-docker">ðŸ”—</a></h1>
<p>Go into the <code>tools/exim</code> directory and build the docker image:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docker</span></span><span class="z-meta z-function-call z-arguments z-shell"> build<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>t</span> ds-exim:latest<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>f</span> exim.dockerfile .</span>
</span></code></pre>
<p>Then start docspell somewhere and configure the integration endpoint
to use http-header protection; i.e. set this in the config file:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docspell.server</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
  integration-endpoint <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
    enabled = true
    http-header = <span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span>
      enabled = true
      header-value = <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>test123<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>
    <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
  <span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span></span>
</span></code></pre>
<p>Then edit the <code>docker-compose.yml</code> and change the environment
variables as needed.</p>
<p>Finally start the container:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">docker-compose</span></span><span class="z-meta z-function-call z-arguments z-shell"> up</span>
</span></code></pre>
<h1 id="test-run">Test Run<a class="zola-anchor" href="#test-run" aria-label="Anchor link for: test-run">ðŸ”—</a></h1>
<p>Now it is possible to send mails to this MTA which will be immediatly
uploaded to docspell for the collective corresponding to the
<code>$local_part</code> of the recipients address. Here is a quick telnet
session (the collective is named <code>family</code>):</p>
<pre class="z-code"><code><span class="z-text z-plain">~&gt; telnet localhost 25
Trying ::1...
Connected to localhost.
Escape character is &#39;^]&#39;.
220 test.org ESMTP Exim 4.93 Sun, 14 Jun 2020 19:03:51 +0000
ehlo localhost
250-test.org Hello localhost [::1]
250-SIZE 31457280
250-8BITMIME
250-PIPELINING
250-CHUNKING
250 HELP
mail from:&lt;me@test.org&gt;
250 OK
rcpt to:&lt;family@test.org&gt;
250 Accepted
data
354 Enter message, ending with &quot;.&quot; on a line by itself
From: me@test.org
To: family@test.org
Subject: This is a test

Test,

this is just a test mail.
.
250 OK id=1jkXwf-000007-0d
quit
221 test.org closing connection
Connection closed by foreign host.
~&gt;
</span></code></pre>
<p>The mail is processed and results in an item:</p>
<figure>
    
    
    
    

    <img src="https://docspell.org/docs/tools/exim-mail.png" >
</figure>
<p>However, if a mail is to an unknown collective or not to the
configured local domain, the server rejects it immediately:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> telnet localhost 25</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Trying</span></span><span class="z-meta z-function-call z-arguments z-shell"> ::1...</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Connected</span></span><span class="z-meta z-function-call z-arguments z-shell"> to localhost.</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Escape</span></span><span class="z-meta z-function-call z-arguments z-shell"> character is <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>^]<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span>.</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">220</span></span><span class="z-meta z-function-call z-arguments z-shell"> test.org ESMTP Exim 4.93 Sun, 14 Jun 2020 19:07:04 +0000</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ehlo</span></span><span class="z-meta z-function-call z-arguments z-shell"> localhost</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">250-test.org</span></span><span class="z-meta z-function-call z-arguments z-shell"> Hello localhost <span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span>::1<span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">250-SIZE</span></span><span class="z-meta z-function-call z-arguments z-shell"> 31457280</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">250-8BITMIME</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">250-PIPELINING</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">250-CHUNKING</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">250</span></span><span class="z-meta z-function-call z-arguments z-shell"> HELP</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mail</span></span><span class="z-meta z-function-call z-arguments z-shell"> from:<span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>me@test.org<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">250</span></span><span class="z-meta z-function-call z-arguments z-shell"> OK</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">rcpt</span></span><span class="z-meta z-function-call z-arguments z-shell"> to:<span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>family22@test.org<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">550</span></span><span class="z-meta z-function-call z-arguments z-shell"> Recipient unknown</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">rcpt</span></span><span class="z-meta z-function-call z-arguments z-shell"> to:<span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>family@gmail.com<span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>
</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">550</span></span><span class="z-meta z-function-call z-arguments z-shell"> Administrative prohibition</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">quit</span></span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">221</span></span><span class="z-meta z-function-call z-arguments z-shell"> test.org closing connection</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Connection</span></span><span class="z-meta z-function-call z-arguments z-shell"> closed by foreign host.</span>
<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span>
</span></span></code></pre>

  



                    </div>

                    <footer class="w-full pt-8 pb-4 px-8 mt-4 bg-stone-50 dark:bg-stone-800 bg-opacity-80 dark:bg-opacity-50">
  <div class="text-center text-sm">
        <span>
            Docspell 0.35.0
        </span>
        <span class="ml-1 mr-1">â€¢</span>
        <a href="https://spdx.org/licenses/AGPL-3.0-or-later.html" target="_blank">AGPLv3+</a>
        <span class="ml-1 mr-1">â€¢</span>
        <a href="https://github.com/eikek/docspell" target="_blank">
            Source Code
        </a>
        <span class="ml-1 mr-1">â€¢</span>
        <span>
            Chat on <a href="https://gitter.im/eikek/docspell" >Gitter</a>/<a href="https://app.element.io/#/room/#eikek_docspell:gitter.im" class="link">Matrix</a>
        </span>


    
    <div class="flex-grow flex flex-row justify-end items-end text-xs opacity-60">
        <a href="https://github.com/eikek/docspell/edit/current-docs/website/site/content/docs&#x2F;tools&#x2F;smtpgateway.md"
           title="Edit this page on Github"
           target="_blank"
        >
            <i class="fa fa-edit "></i>
            Edit
        </a>
    </div>
    
    </div>

    
</footer>

                </div>

                
                <div class="hidden pl-2 text-sm font-light mt-2 flex-col w-48 sticky top-4  lg:flex ">

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;smtpgateway&#x2F;#smtp-gateway-with-exim" class="hover:text-stone-900 dark:hover:text-stone-100">
                            SMTP Gateway with Exim
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;smtpgateway&#x2F;#what-you-need" class="hover:text-stone-900 dark:hover:text-stone-100">
                            What you need
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;smtpgateway&#x2F;#exim" class="hover:text-stone-900 dark:hover:text-stone-100">
                            Exim
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;smtpgateway&#x2F;#the-config-file" class="hover:text-stone-900 dark:hover:text-stone-100">
                            The Config File
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;smtpgateway&#x2F;#install-with-docker" class="hover:text-stone-900 dark:hover:text-stone-100">
                            Install with Docker
                        </a>
                        
                    </div>

                    
                    <div>
                        <i class="fa fa-hashtag mr-1"></i>
                        <a href="https:&#x2F;&#x2F;docspell.org&#x2F;docs&#x2F;tools&#x2F;smtpgateway&#x2F;#test-run" class="hover:text-stone-900 dark:hover:text-stone-100">
                            Test Run
                        </a>
                        
                    </div>

                    
                </div>
                
            </div>
        </div>
        <script>
 var initSearch = function() {
     var elmSearch = Elm.Search.init({
         node: document.getElementById("search"),
         flags: {}
     });
     initElmSearch(elmSearch);
 }
 if (document.readyState === "complete" ||
     (document.readyState !== "loading" && !document.documentElement.doScroll)
 ) {
     initSearch();
 } else {
     document.addEventListener("DOMContentLoaded", initSearch);
 }
</script>

        <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
<script>
 (function(f, a, t, h, o, m){
     a[h]=a[h]||function(){
         (a[h].q=a[h].q||[]).push(arguments)
     };
     o=f.createElement('script'),
     m=f.getElementsByTagName('script')[0];
     o.async=1; o.src=t; o.id='fathom-script';
     m.parentNode.insertBefore(o,m)
 })(document, window, '//webstats.daheim.site/tracker.js', 'fathom');
 fathom('set', 'siteId', 'OGJDF');
 fathom('trackPageview');
</script>
<!-- / Fathom -->

    </body>

</html>
